(function(t){t.fn.twentytwenty=function(e){var e=t.extend({default_offset_pct:.5,orientation:"horizontal",slider_move:"drag"},e);return this.each((function(){var i=e.default_offset_pct;var n=t(this);var a=e.orientation;var s=a==="vertical"?"down":"left";var r=a==="vertical"?"up":"right";n.wrap("<div class='twentytwenty-wrapper twentytwenty-"+a+"'></div>");n.append("<div class='twentytwenty-overlay'></div>");var d=n.find("img:first");var f=n.find("img:last");n.append("<div class='twentytwenty-handle'></div>");var c=n.find(".twentytwenty-handle");c.append("<span class='twentytwenty-"+s+"-arrow'></span>");c.append("<span class='twentytwenty-"+r+"-arrow'></span>");n.addClass("twentytwenty-container");d.addClass("twentytwenty-before");f.addClass("twentytwenty-after");var w=n.find(".twentytwenty-overlay");w.append("<div class='twentytwenty-before-label'></div>");w.append("<div class='twentytwenty-after-label'></div>");var v=n.find("div.twentytwenty-before-label");var o=n.find("div.twentytwenty-after-label");var l=function(t){var e=d.width();var i=d.height();return{w:e+"px",h:i+"px",cw:t*e+"px",ch:t*i+"px"}};var p=function(t){if(a==="vertical"){d.css("clip","rect(0,"+t.w+","+t.ch+",0)")}else{d.css("clip","rect(0,"+t.cw+","+t.h+",0)");v.css("clip","rect(0,"+t.cw+","+t.h+",0)");o.css("clip","rect(0,"+t.w+","+t.h+","+t.cw+")")}n.css("height",t.h)};var y=function(t){var e=l(t);c.css(a==="vertical"?"top":"left",a==="vertical"?e.ch:e.cw);p(e)};t(window).on("resize.twentytwenty",(function(t){y(i)}));var h=0;var u=0;if(e.slider_move=="drag"){c.on("movestart",(function(t){if((t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&a!=="vertical"){t.preventDefault()}else if((t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&a==="vertical"){t.preventDefault()}n.addClass("active");h=n.offset().left;offsetY=n.offset().top;u=d.width();imgHeight=d.height()}));c.on("moveend",(function(t){n.removeClass("active")}));c.on("move",(function(t){if(n.hasClass("active")){i=a==="vertical"?(t.pageY-offsetY)/imgHeight:(t.pageX-h)/u;if(i<0){i=0}if(i>1){i=1}y(i)}}))}else{n.mousemove((function(t){i=a==="vertical"?(t.pageY-n.offset().top)/d.height():(t.pageX-n.offset().left)/d.width();if(i<0){i=0}if(i>1){i=1}y(i)}))}n.find("img").on("mousedown",(function(t){t.preventDefault()}));t(window).trigger("resize.twentytwenty")}))}})(jQuery);